---
- name: Ensure NAS mount point exists
  ansible.builtin.file:
    path: "{{ nas_mount_point }}"
    state: directory
    mode: "0755"
  tags:
    - nas_mount

- name: Add NAS NFS mount for Jellyfin
  ansible.builtin.mount:
    path: "{{ nas_mount_point }}"
    src: "{{ nas_mount_server }}:{{ nas_mount_path }}"
    fstype: nfs4
    opts: "{{ nas_mount_opts }}"
    state: present
  tags:
    - nas_mount
